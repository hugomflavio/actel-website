<!DOCTYPE html>
<html lang="en">
<!-- Start Head -->
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="Description" content="R package actel.">

    <title>actel: Manual</title>
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/icon" href="assets/images/actel_favicon.ico"/>
    <!-- Font Awesome -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
     <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <!-- Slick slider -->
    <link href="assets/css/slick.css" rel="stylesheet">
    <!-- Theme color -->
    <link id="switcher" href="assets/css/theme-color/default-theme.css" rel="stylesheet">
    <!-- Modal popup -->
    <link href="assets/css/modal.css" rel="stylesheet">

    <!-- Main Style -->
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/section_image_bg.css" rel="stylesheet">
    <link href="assets/css/basic_typography.css" rel="stylesheet">
    <link href="assets/css/dropdown_menu.css" rel="stylesheet">
    <link href="assets/css/tables.css" rel="stylesheet">
    <link href="assets/css/buttons.css" rel="stylesheet">
    <link href="assets/css/size_responsiveness.css" rel="stylesheet">
    <link href="assets/css/prism.css" rel="stylesheet">

    <!-- Fonts -->

    <!-- Poppins For Title -->
		<link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
 
		<!-- navBar  -->
    <link href="assets/css/navBar_for_white_bg.css" rel="stylesheet">
    <link href="assets/css/navBar-second_for_white_bg.css" rel="stylesheet">

    <!-- Code colouring -->
		<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
	</head>
<!-- End Head -->
<!-- Start Body -->
  <body>
  <div class="page-container">	
  <!--START SCROLL TOP BUTTON -->
    <a class="scrollToTop" href="#">
      <i class="fa fa-angle-up"></i>
    </a>
  <!-- END SCROLL TOP BUTTON -->
  <!-- Start NavBar -->
		<div class="navBar" id="navBar">
		  <a href="index.html">Home</a>
		  <a href="news.html">News</a>
		  <button onclick="toogleManualNavBarResponsive()"><strong>Manual</strong> <i class="fa-solid fa-caret-down"></i></button>
		  <a href="mailto:hflavio@wlu.ca" onclick="closeNavBarDropdown()">Need help?<i class="fa fa-envelope" style="padding-left: 10px"></i></a>
		  <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="toogleNavBarResponsive()"><i class="fa fa-bars"></i></a>
		</div>
	<!-- End NavBar -->
  <!-- Start manual NavBar -->
		<div class="navBar-second" id="navBar-manual">
		  <a href="manual-index.html">Section index</a>
		  <a href="manual-data.html"><strong>Input data</strong></a>
		  <a href="manual-explore.html"><code>explore()</code></a>
		  <a href="manual-migration.html"><code>migration()</code></a>
		  <a href="manual-residency.html"><code>residency()</code></a>
		  <a href="manual-manual.html">Manual mode</a>
		  <a href="manual-beyond.html">Beyond the three analyses</a>
		  <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="toogleManualNavBarResponsive()"><i class="fa-solid fa-arrow-left"></i></a>
		</div>
	<!-- End manual NavBar -->
	<!-- Start Main Content -->
		<main>
		<!-- Start About -->
			<section class="section-white-bg">
				<div class="container">
					
					<div class="row">
						<div class="col-md-12">
							<div class="section-white-bg-area">

									<div class="row">
										<div class="col-md-12">
											<div class="manual">
												<div class="callout">
												  <div class="callout-header"> Note:</div>
												  <div class="callout-container">
												  	<p>The content on this page assumes that 1) You are familiar with handling R objects and 2) you are familiar with the the traditional input files for actel. If you do not know which inputs are necessary to run actel, you can find more information about them <a href="manual-data.html">in the first page of the manual.</a></p>
												  </div>
												</div>

											</div>
										</div>
									</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<div class="section-white-bg-area">
								<h2>The <code>preload()</code> function</h2>

									<div class="row">
										<div class="col-md-12">
											<div class="manual">

												<p>If you are working with large databases, or retrieving your detection data from a server (such as <a href="https://europeantrackingnetwork.org/en" target="_blank" rel="noopener noreferrer">ETN</a> or <a href="https://oceantrackingnetwork.org/", target="_blank" rel="noopener noreferrer">OTN</a>), it may be impractical to have to save all the data into CSV files to be able to run actel analyses. To help you out, I have created the function <code>preload()</code>, which pre-compiles R objects into a format that is actel-compatible.</p>

												<div class="callout">
												  <div class="callout-header"> Note:</div>
												  <div class="callout-container">
												  	<p>The main functions will not accept a datapack that does not originate from a <code>preload()</code> call run during the same R session. This is to ensure that the data is correctly formatted and up to date.</p>
												  </div>
												</div>

												<p>To run the <code>preload()</code> function, you must first create four R objects, equal in structure to their CSV counterparts: biometrics, spatial, deployments and detections. Additionally, you also need to set the <code>tz</code> argument.</p>

												<p>Once you have these four objects, you can run <code>preload()</code>:</p>

<pre><code class="language-r">x <- preload(biometrics = biometrics, spatial = spatial, deployments = deployments, detections = detections, tz = "Europe/Copenhagen")
</code></pre>

												<p>You can then use the resulting object to run an actel analysis:</p>

<pre><code class="language-r">results <- explore(datapack = x)</code></pre>

												<h3>What about the optional files?</h3>

												<p>If you want to use <code>preload()</code> and include a distances matrix or the equivalent of a 'spatial.txt' file, you must use the <code>distances</code> and <code>dot</code> arguments (respectively). I recommend that you calculate the distances matrix using the actel functions provided for that (more details <a href="manual-distances.html">in this page</a>). As for the dot argument, simply create a string that looks like what your 'spatial.txt' file would have looked like. e.g:</p>


<pre><code class="language-r"># You can create multiple lines, just like in the spatial.txt case:
dot <- "River0 -- River1 -- River3 -- River4 -- River5 -- River6 -- Fjord1 -- Fjord2 -- Sea1
River1 -- River2 -- River3"

x <- preload(biometrics = biometrics, spatial = spatial, deployments = deployments, 
detections = detections, distances = distances, dot = dot, tz = "Europe/Copenhagen")
</code></pre>

												<h3>migration/residency-compatible datapacks</h3>

												<p>If your final goal is to run a <code>migration()</code> or <code>residency()</code> analysis, remember to have a 'Section' column in your spatial input. Apart from that, the process is exactly the same! Load your data using preload, and then source the loaded datapack into the analysis functions:</p>

<pre><code class="language-r">results <- migration(datapack = x)

# or

results <- residency(datapack = x)
</code></pre>

												<h3>Remaining arguments</h3>

												<p>The <code>preload()</code> function also contains the following arguments: <code>exclude.tags</code>, <code>disregard.parallels</code>, <code>discard.orphans</code>, <code>start.time</code> and <code>stop.time</code>. These perform exactly the same tasks as their counterparts on the main functions.</p>

												<div class="callout">
												  <div class="callout-header"> Note:</div>
												  <div class="callout-container">
												  	<p>If you are using preloaded data, these arguments will be disregarded in the main analysis call, so make sure to set them correctly in the <code>preload()</code> call!</p>
												  </div>
												</div>

												<h3>Final notes on the detections</h3>

												<p>If you load detections through <code>preload()</code>, they will be required to have four specific columns: Timestamp, Receiver, CodeSpace and Signal. You can use the functions <code>extractCodeSpaces()</code> and <code>extractSignals()</code> to help you out if needed. On top of these four columns, you can include two columns for sensor data: Sensor.Value and Sensor.Unit (notice the capital first letters). On top of these six columns, you can include as many columns as you want! These extra columns will be carried through the main analyses and exported in the <code>detections</code> and <code>valid.detections</code> objects.</p>

												<div class="callout">
												  <div class="callout-header"> Note:</div>
												  <div class="callout-container">
												    <p>At this point, the detections are no longer influenced by the manufacturer. As such, actel will not convert code-spaces. This means that whichever CodeSpace you selected for your tags, is the one that will be displayed at the end of the analyses!</p>
												  </div>
												</div>

												<a href="manual-data.html">Return to the input data manual page.</a>

											</div>
											
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</section>

		<!-- End Actions -->
		</main>
	<!-- End main content -->	
	<!-- Start footer -->
		<footer id="st-footer">
			<div class="container">
			<!-- Start Disclaimer Modal -->
				<div class="modal fade" id="DisclaimerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
				  <div class="modal-dialog modal-dialog-centered mw-100 w-75" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title">Copyright/Disclaimer Information</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
				      </div>
				      <div class="modal-body">
							  <div class="container-fluid">
									  <div class="row middle-row">
									  	<h5>Disclaimer</h5>
											<p>SMOLTRACK accepts no responsibility for and excludes all liability in connection with browsing the website, use of information on the website and downloading any material from the website including but not limited to any liability for errors, inaccuracies, omissions or defamatory or misleading statements. SMOLTRACK reserves the right, in its sole discretion and without any obligation, to make improvements to, or correct any errors or omissions in any portion of the information displayed on the website.</p>
											<p>The contents presented in the SMOLTRACK website are for general information only. No reliance should be placed upon the contents of the website. Advice and verification should be sought through our contacting information.</p>
											<h5>Linking to Third Party Sites</h5>
											<p>SMOLTRACK assumes no responsibility for the contents of linked websites. The inclusion of any link should not be taken as an endorsement of any kind by SMOLTRACK of the linked website or any association with its operators. Further, SMOLTRACK has no control over the availability of the linked pages.</p>
											<h5>Copyright Notice</h5>
											<p>Material on this website, including text and images, is protected by copyright. It may not be copied, reproduced, republished, downloaded, posted, broadcast or transmitted in any way except for your own personal, non-commercial use. Prior written consent of the copyright holder must be obtained for any other use of material. Copyright in all materials and/or works comprising or contained within this website remains with SMOLTRACK and other copyright owner(s) as specified. No part of this site or sub-domains of this site may be distributed or copied for any commercial purpose.</p>
								    </div>
						    </div>
					      <div class="modal-footer">
								  <button class="btn btn-secondary" onclick="location.href='mailto:smoltrack@gmail.com';">Contact us<i class="fa fa-envelope" style="padding-left: 10px"></i></button>
					        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					      </div>
					    </div>
					  </div>
					</div>
				</div>
			<!-- End Disclaimer Modal -->
				<div class="st-footer-area">
					<div class="row">
						<div class="col-md-6">
							<div class="st-footer-left">
								<p class="st-copy-right">actel: Simplifying acoustic telemetry data analysis</p>
							</div>
						</div>
						<div class="col-md-6">
							<div class="st-footer-right">
								<div class="st-social-media">
									<a href="mailto:hflavio@wlu.ca" target="_blank" rel="noopener noreferrer"><i class="fa fa-envelope"></i></a>
									<a href="https://ecoevo.social/@HugoMFlavio" target="_blank" rel="noopener noreferrer"><i class="fa-brands fa-mastodon"></i></a>
									<!-- <a href="#"><i class="fa fa-youtube"></i></a> -->
									<button id="DisclaimerBtn" type="button" class="st-disclaimer-btn" data-toggle="modal" data-target="#DisclaimerModal">
									  Terms of Use
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	<!-- End footer -->	
	<!-- Start JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
		<!-- Slick slider -->
	    <script type="text/javascript" src="assets/js/slick.min.js"></script>
   	<!-- Ajax contact form  -->
	    <script type="text/javascript" src="assets/js/app.js"></script>
  	<!-- Modal popup -->
	    <script type="text/javascript" src="assets/js/modal.js"></script>
    <!-- Custom js -->
			<script type="text/javascript" src="assets/js/custom.js"></script>
			<script type="text/javascript" src="assets/js/navBar.js"></script>

			<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>

		<!-- Code colouring -->
			<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
			<script>hljs.highlightAll();</script>

  <!-- End JavaScript -->
	</div>
  </body>
<!-- End Body -->
</html>



